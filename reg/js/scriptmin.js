document.addEventListener("DOMContentLoaded",(()=>{"use strict";const e=document.querySelector(".reg__form"),r=e.querySelectorAll("input"),t=e.querySelector("#id_password1"),o=e.querySelector("#id_password2"),s=document.querySelector(".error__inputs"),c=document.querySelector(".error__text"),a=e.querySelector(".enter__btn");(()=>{let l=!0;const n="Пароли не совпадают",d="Не все поля заполнены",i=e=>{c.classList.add("error__active"),s.textContent=e},u=()=>{s.textContent="",c.classList.remove(".error__active")},v=s=>{s.preventDefault();const c=new FormData(e);(()=>{let e;r.forEach((e=>{e.value.match(/[a-zа-я0-9]/gi)?e.classList.remove("error"):e.classList.add("error")}));for(let t=0;t<=r.length-1;t++){if(!r[t].value.match(/[a-zа-я0-9]/gi))return e=!1,void i(d);u(),e=!0}return e})()&&(t.value!==o.value?(l=!1,i(n),t.classList.add("error"),o.classList.add("error")):(l=!0,u(),t.classList.remove("error"),o.classList.remove("error")),l&&fetch("/reg/",{method:"POST",body:c}).then((e=>(console.log(e),e.text()))).then((e=>{console.log(e)})))};a.addEventListener("click",(e=>v(e)))})()}));